#!/bin/sh -efu

. girar-sh-functions

PROG=girar-rm-db

usage()
{
	echo >&2 "$PROG: $*"
	echo >&2 "usage: $PROG <directory>"
	exit 1
}

[ "$#" -ge 1 ] ||
	usage 'Not enough arguments.'
[ "$#" -eq 1 ] ||
	usage 'Too many arguments.'

cd "$HOME"

dir0="$1"; shift
dir="$(validate_packages_dir "$dir0")"
dir="$(add_git_suffix "$dir")"
[ -d "$dir" ] ||
	fatal "$dir0: directory not available"
cd "$dir"
cd "$HOME"
rm -rf -- "$dir"
