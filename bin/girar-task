#!/bin/sh -efu

. girar-sh-functions

usage()
{
	[ -z "$*" ] || message "$*"
	echo >&2 "usage: $PROG {new|add|ls|show|run|rm} ..."
	exit 1
}

[ "$#" -ge 1 ] ||
	usage 'Not enough arguments.'
[ -n "${GIRAR_USER-}" ] ||
	fatal "GIRAR_USER undefined"

cd "$GIRAR_TASKS"

case "${1-}" in
	--help|help|'')
		usage ;;
	new|add|ls|show|run|rm)
		exec "$PROG-$1" "$@"
		;;
	*)
		usage "invalid operation: $op"
		;;
esac
